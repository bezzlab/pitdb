<!-- <!DOCTYPE html> -->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>PITDB</title>

    <!-- <link rel="stylesheet" href="/static/css/ext/bootstrap.css"> -->
    <link rel="stylesheet" href="/static/css/ext/landing-page.css">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="/static/css/ext/metisMenu.min.css">
    <!--link rel="stylesheet" href="/static/css/ext/timeline.css">-->
    <link rel="stylesheet" href="/static/css/ext/morris.css">
    
    <link rel="stylesheet" href="/static/css/ext/font-awesome.css">
    <link rel="stylesheet" href="/static/css/ext/bootstrap.css">
    <link rel="stylesheet" href="/static/css/ext/bootstrap-select.css">
    <link rel="stylesheet" href="/static/css/ext/datatables.min.css">
    <link rel="stylesheet" href="/static/css/ext/sb-admin-2.css">
    
    <link rel="stylesheet" href="/static/css/pitdb.css">
    <!-- Global Site Tag (gtag.js) - Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-107488064-1"></script>

    <script>

    window.dataLayer = window.dataLayer || [];

    function gtag(){dataLayer.push(arguments)};

    gtag('js', new Date());
    gtag('config', 'UA-107488064-1');

    </script>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
      <div class="container topnav" style="overflow-y: auto">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-left">
            <li style="font-weight: bold; font-size: 22px; font-family: "Trebuchet MS", Helvetica, sans-serif"><a href="/">PITDB</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right" style="font-weight: bold; font-size: 15.5px">
            <li><a href="/#about">About</a></li>
            <li><a data-toggle="modal" data-target="#help" style="cursor: pointer;">Help</a></li>
            <li><a href="browse?accession='all'">Browse</a></li>
            <li><a data-toggle="modal" data-target="#submission" style="cursor: pointer;">Submission</a></li>
            <li><a data-toggle="modal" data-target="#search" style="cursor: pointer;">Search <i class="fa fa-search fa-fw"></i></a></li>            
          </ul>
        </div>
      </div>
    </nav>

    {% block content %}
    {% endblock %}

    <!-- Modal -->
    <div id="search" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close btn" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Search PITDB</h4>
          </div>
          <form id="searchform" class="form-horizontal" role="form" action="/search" method="POST">
            <div class="modal-body" style="font-weight: normal; line-height: 1.6em;">
              <div class="form-group">
                <p>Six main types of search are available:
                <ul> 
                  <li><label>TGE:</label> Find PIT evidence for a specific translated genomic element (TGE) by searching for its accession number or amino acid sequence.</li>
                  <li><label>Experiment:</label> View summary information for a particular experiment ID.</li>
                  <li><label>Sample:</label> View summary information for a particular sample ID or name.</li>
                  <li><label>Protein:</label> Find TGEs corresponding to a specific protein, identified by its Uniprot ID.</li>
                  <li><label>Gene:</label> Search by gene symbol to find TGEs that are products of that gene.</li>
                  <li><label>Species:</label> Find all TGEs observed for a particular species, selected from the drop down list.</li>
                </ul>
                </p>
                <br/>
                <label for="filter">Search by</label>
                
                <select id="searchOptions" name="searchOptions" class="form-control">
                  <option disabled selected value="default">-- Select an option --</option>
                  <option disabled role="separator" class="divider"></li>
                  <optgroup label="TGE">
                    <option>Accession Number</option>
                    <option id="aminoSeq">Amino Acid Sequence</option>
                  </optgroup>
                  <option disabled role="separator" class="divider"></li>
                  <optgroup label="Experiment">
                    <option>Experiment ID</option>
                  </optgroup>
                  <option disabled role="separator" class="divider"></li>
                  <optgroup label="Sample">
                    <option>Sample ID</option>
                    <option>Sample Name</option>
                  </optgroup>
                  <option disabled role="separator" class="divider"></li>
                  <optgroup label="Protein">
                    <option>Uniprot ID</option>
                  </optgroup>
                  <option disabled role="separator" class="divider"></li>
                  <optgroup label="Gene">
                    <option>Gene Symbol</option>
                  </optgroup>
                  <!-- <option role="separator" class="divider"></li> -->
                  <!-- <optgroup label="Peptide">
                    <option>Peptide Sequence</option>
                  </optgroup> -->
                  <option disabled role="separator" class="divider"></li>
                  <optgroup label="Species">
                    <option>Homo sapiens</option>
                    <option>Aedes aegypti</option>
                    <option>Mus musculus</option>
                    <option>Pteropus alecto</option>
                  </optgroup>
                </select>
              </div>
              <div class="form-group" id="textArea">
                <label for="contain" id="searchFilter" name="searchFilter">Search</label>
                <textarea rows="4" cols="50" class="form-control" id="searchArea" name="searchArea" placeholder="Enter a search term"></textarea>
              </div>
              <div class="searchOptions" style="display: none;">
                <label class="radio-inline"><input type="radio" name="searchType" value="exact" checked="checked">Exact Match</label>
                <label class="radio-inline"><input type="radio" name="searchType" value="partial">Contains Sequence</label>
              </div>
              <span class="modalWarning" style="color: #c12e2a; font-weight: bold;"></span>
            </div>
            <div class="modal-footer">
              <button id="submitSearch" type="submit" class="btn btn-primary">Submit <i class="fa fa-search" aria-hidden="true"></i></button>
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div id="submission" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close btn" data-dismiss="modal">&times;</button>
            <h3 class="modal-title">Submit Data to PITDB</h3>
          </div>
          <form id="submissionform" class="form-horizontal" role="form" enctype="multipart/form-data" action="/submission" method="POST">
            <div class="modal-body" style="font-weight: normal; line-height: 1.6em;">
              <div class="form-group">
                <p>Eight files are needed per sample for PITDB submission (Please check <a href="./static/README_DataSubmission.pdf">submission guideline</a> for further information). Each submission also needs a experiment and a sample decsription file. Please zip the files and upload for submission.
                </p>
                <p></p>
                <p>
                <div id="uploadtextArea">
                <label>Name</label>
                <textarea rows="1" cols="5" class="form-control" id="uploaderName" name="uploaderName" placeholder="Enter your name"></textarea>
                <label>Email</label>
                <textarea rows="1" cols="5" class="form-control" id="uploaderEmail" name="uploaderEmail" placeholder="Enter your Email address"></textarea>
                </div>
                <div>
                <label>Upload submission zip/tar file</label>
                  <input type="file" name="submissionFile">
                </div>
                </p>
                <br>
                <!-- <label>File Description</label>
                <table class="table table-striped table-bordered dataTable no-footer clickable table-responsive">
                  <thead>
                    <tr>
                      <th>Category</th>
                      <th>File Type</th>
                      
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Experiment Info</td>
                      <td>TSV</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>Sample Info</td>
                      <td>TSV</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>TGE</td>
                      <td>Fasta</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>Transcript</td>
                      <td>Fasta</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>Protein</td>
                      <td>CSV</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>Peptide</td>
                      <td>CSV</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>Summary</td>
                      <td>TSV</td>
                      
                      <td></td>
                    </tr>                   
                    <tr>
                      <td>GFF3 Transcript</td>
                      <td>GFF3</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>GFF3 Peptide</td>
                      <td>GFF3</td>
                      
                      <td></td>
                    </tr>
                    <tr>
                      <td>Polymorphisms</td>
                      <td>proVCF</td>
                      
                      <td></td>
                    </tr>                    
                  </tbody>
                </table> -->
              </div>
            </div>
            <div class="modal-footer">
              <button id="submission" type="submit" class="btn btn-primary">Submit <i class="fa fa-search" aria-hidden="true"></i></button>
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div id="help" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close btn" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Help</h4>
          </div>
          <div class="modal-body" style="font-weight: normal; line-height: 1.6em;">
          <h5><strong>What is PITDB?</strong></h5>
          <p>PITDB is a publicly available database for sharing results from published PIT (proteomics informed by transcriptomics) experiments. The PIT approach [<a href="#ref1">1</a>] involves the analysis of a given sample by both RNA-seq and proteomic mass spectrometry followed by sequence-level integration of the acquired data to provide an unprecedented insight into which genomic elements are being transcribed and translated within a given sample. The benefit of this approach is that any expressed polypeptide can be detected, unlike traditional proteomics which is constrained to searching spectra against a list of known protein sequences.</p>
          <h5><strong>What is a translated genomic element (TGE)?</strong></h5>
          <p>We define a TGE as an amino acid chain produced from a genomic locus through the processes of transcription and translation. The typical example of a TGE is a protein, encoded by a gene. However, other types of TGE have been reported in the literature, such as short open reading frames (sORF) and products of so-call non coding RNA (ncRNA).</p>
          <h5><strong>How do I browse PITDB?</strong></h5>
          <p>You can browse the experiments and samples that make up PITDB by clicking Browse in the top right of the PITDB web interface. More usefully, you to access specific information in PITDB via four simple searches:</p>
          <ul>
            <li>Search by <strong>TGE</strong> to find PIT evidence for a specific translated genomic element (TGE) by searching for its accession number (e.g. <a href="https://pitdb.sbcs.qmul.ac.uk/tge?accession=TGE0000273">TGE0000273</a>) or amino acid sequence. Each TGE is supported by one or more TGE observations, comprising a transcript from RNA-seq and peptide evidence of translation of the transcript from mass spectrometry. Each TGE is also assigned a type (e.g. known variant) through comparison with reference databases. A single TGE (as defined by its unique sequence) may have been observed across multiple species.</li>
            <li>Search by <strong>experiment</strong> or <strong>sample</strong> (e.g. <a href="https://pitdb.sbcs.qmul.ac.uk/experiment?experiment=EXP000001">EXP000001</a> or <a href="https://pitdb.sbcs.qmul.ac.uk/sample?accession=SAMP000001">SAMP000001</a>) to view summary information for a particular experiment that has been submitted to PITDB. An experiment may contain one or more samples. The summary information includes information about the number of TGEs identified, the distribution of these among the samples, and a brief description of the experiment.</li>
            <li>Search by <strong>protein</strong> or <strong>gene name</strong> to find TGEs corresponding to a specific protein, identified by its Uniprot ID (e.g. <a href="https://pitdb.sbcs.qmul.ac.uk/protein?uniprot=Q52L50">Q52L50</a>). This shows any TGEs corresponding to the protein and is useful in seeking experimental evidence for a theoretical protein, or investigating isoforms of known proteins. For species with a genome assembly, TGEs are shown in their genomic context alongside their corresponding genes.</li>
            <li>Search by <strong>species</strong> to find all TGEs observed for a particular species. For non-model organisms this essentially provides a draft proteome for further analysis. However, it is important to note that the completeness of the proteome will depend on the diversity of samples analysed, e.g. whether they came from multiple tissues.</li>
          </ul>In all the database views, specific TGEs can be located using the search box just above the TGE table.

          <h5><strong>Downloading data from PITDB</strong></h5>
          <p>Detailed information from a particular database view can be downloaded for further analysis by clicking the relevant Download button above the table of interest and selecting the items that you want to download, and the format you want to download them in.</p>

          <h5><strong>Submitting data to PITDB</strong></h5>
          <p>We welcome submission of data to PITDB, in support of published work. To begin a submission, click Submission in the top right of PITDB web interface and follow the instructions.</p>
          <br/>
          <ol style="line-height: 1.7em; padding-left:15px">
            <li id="ref1">Evans, V.C., <i>et al.</i>, De novo derivation of proteomes from transcriptomes for transcript and protein identification</i>. <a href="http://www.nature.com/nmeth/journal/v9/n12/full/nmeth.2227.html" target=_blank><strong>Nature Methods</strong>, 2012. 9(12): p.1207-1211</a>.</li>
          </ol>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    
    <script src="/static/js/ext/jquery-2.1.4.min.js"></script>
    <script src="/static/js/ext/bootstrap.min.js"></script>
    
    <script src="/static/js/ext/d3.js"></script>
    <!-- <script src="/static/js/ext/jquery.dataTables.js"></script> -->
    <!-- <script type="text/javascript" src="/static/js/genoverse.combined.js"></script> -->
    <script src="/static/js/ext/datatables.min.js"></script>
    <script src="/static/js/pit.js"></script>
</body>
</html>
